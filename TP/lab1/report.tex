\documentclass[12pt, a4paper] {ncc}
\usepackage[utf8] {inputenc}
\usepackage[T2A]{fontenc}
\usepackage[english, russian] {babel}
\usepackage[usenames,dvipsnames]{xcolor}
\usepackage{listings,a4wide,longtable,amsmath,amsfonts,graphicx}
\usepackage{indentfirst}
\usepackage{bytefield}
\usepackage{multirow}
\usepackage{float}
\usepackage{caption}
\usepackage{subcaption}
\captionsetup{compatibility=false}
\usepackage{tabularx}

\usepackage[left=2cm,right=2cm,top=2cm,bottom=2cm,bindingoffset=0cm]{geometry}

\begin{document}
\setcounter{figure}{0}
\frenchspacing
\pagestyle{empty}
\begin{center}
                            Университет ИТМО    \\
                        Кафедра вычислительной техники

\vspace{\stretch{2}}
                    Технологии программрования
\end{center}
\vspace{\stretch{2}}
\begin{center}
                            Лабораторная работа №1\\
\end{center}
\vspace{\stretch{3}}
\begin{flushright}
                                    Студенты:\\
                                    {\it Куклина Мария,}\\
                                    {\it Кириллова Анастасия, P3401}
                                    Преподаватель: \\
                                    {\it Оголюк А.А.}
\end{flushright}
\vspace{\stretch{4}}
\begin{center}
                             Санкт-Петербург, 2017
\end{center}
\newpage

\section{Ход работы}
    \subsection{Задание 1}
        \subsubsection{Листинг}
        \begin{description}
            \item[Входные данные:] список строк.
            \item[Выходные данные:] число, количество строк, соответствующих правилу:
                 длина строки больше 2 симолов и первый символ равен последнему.
        \end{description}

        \lstset{language=Python}
        \begin{lstlisting}
def me(words):
  return len(list(
                  filter(lambda str:
                            len(str) > 2 and str[0] == str[-1],
                         words)
                 )
            );
        \end{lstlisting}

        \subsubsection{Тест}

        \begin{lstlisting}
test(me, ['aa', 'ba', 'ca', 'acccca', 'bab', 'a'], 2);
test(me, ['aa', 'a', 'bb', 'acb'],  0);
test(me, [], 0);
test(me, ['', '', ''], 0);
        \end{lstlisting}

    \subsection{Задание 1}

        \subsubsection{Листинг}
        \begin{description}
            \item[Входные данные:] список строк.
            \item[Выходные данные:] список строк, в котором все слова, начинающиеся на 'x'
                 попадают в начало списка, остальные стортируются. 
        \end{description}

        \begin{lstlisting}
def fx(words):
  return list(sorted(words, key=lambda s:
                                    (len(s) != 0 and s[0] != 'x', s)
                    )
             );
        \end{lstlisting}

        \subsubsection{Тест}

        \begin{lstlisting}
test(fx, ['tix', 'xyz', 'apple', 'xacadu', 'aabbbccc'],
         ['xacadu', 'xyz', 'aabbbccc', 'apple', 'tix']);
test(fx, [], []);
test(fx, ['', 'b', 'c', 'a'], ['', 'a', 'b', 'c']);
        \end{lstlisting}

    \subsection{Задание 1}
        \subsubsection{Листинг}
        \begin{description}
            \item[Входные данные:] список кортежей.
            \item[Выходные данные:] список, сортированный по возрастанию последнего элемента кортежа. 
        \end{description}
        \begin{lstlisting}
def sort_by_sec(lst):
    return sorted(lst, key=lambda pair: bool(pair) and pair[-1])
        \end{lstlisting}

        \subsubsection{Тест}

        \begin{lstlisting}
test(sort_by_sec, [(1, 7), (1, 3), (3, 4, 5), (2, 2)],
                  [(2, 2), (1, 3), (3, 4, 5), (1, 7)]);
test(sort_by_sec, [(1, 4), (), (4, 1)], [(), (4, 1), (1, 4)]);
test(sort_by_sec, [(), ()], [(), ()]);
        \end{lstlisting}
\end{document}
